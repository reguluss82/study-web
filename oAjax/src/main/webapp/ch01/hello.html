<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- readyState : AJX 개체의 상태를 나타내는 숫자.
            0 : 처음 객체생성하면
            1 : get()메소드로 요청할 페이지 정보를 설정하면
            2 : send() 메소드로 요청을 보내면
            3 : 서버에서 응답이 오기 시작하면
            4 : 서벙 응답이 완료되면 -->
<!-- status : 서버로부터 받은 응답의 상태를 나타내는 숫자.
            200 : 정상적으로 응답을 받은 경우
            404 : 페이지를 찾지 못한 경우 -->
<!-- responseText    : 서버 응답 내용을 나타내는 문자열  -->      
<script type="text/javascript" src="../js/httpRequest.js"></script>
<script type="text/javascript">
	function chk() {
		var params = "name=" + encodeURIComponent(frm.name.value);
	 // sendRequest(url(server PGM) , params , callback , method);
		sendRequest("hello.jsp"     , params , result   , "POST");
	}
	function result() {
		if (httpRequest.readyState==4) //4 <- 전송이 완료된 상태
			if (httpRequest.status==200) {
				var text1 = httpRequest.responseText; // hello.jsp html문서 전체 내용
				start = text1.indexOf("<body>");
				end   = text1.indexOf("</body>");
				var text2 = text1.substring(start+6 , end); // <body> 와 </body> 사이
				alert(text1);
				alert(text2);
			} else alert("Server 오류");
	}
</script>
</head>
<body>
	<h2>이름을 입력하세요</h2>
	<form action="" name="frm">
		<input type="text" name="name"><p>
		<input type="button" value="확인" onclick="chk()">
	</form>
</body>
</html>